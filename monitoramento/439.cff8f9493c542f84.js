"use strict";(self.webpackChunkMonitoramento=self.webpackChunkMonitoramento||[]).push([[439],{1439:(ke,T,i)=>{i.r(T),i.d(T,{TaskerModule:()=>Me});var h=i(6895),u=i(6811),g=i(9808),c=i(2728),N=i(7377);class Z extends N._{constructor(s){return super(),this.tasker_Group_Id=0,this.applicationSoftware_Id=0,this.dataBase_Id=0,this.description="",this.redFlagQuery="",this.yellowFlagQuery="",this.greenFlagQuery="",s}}var k=[{field:"id",header:"Id",maskType:c.O.undefined,filterType:c.vA.text,filterDisplay:c.w2.menu,filterShowMatchMode:!1,filterShowAddButton:!1},{field:"name",header:"Name",maskType:c.O.undefined,filterType:c.vA.text,filterDisplay:c.w2.menu,filterShowMatchMode:!1,filterShowAddButton:!1},{field:"environment",header:"Enviroment",maskType:c.O.undefined,filterType:c.vA.text,filterDisplay:c.w2.menu,filterShowMatchMode:!1,filterShowAddButton:!1},{field:"group",header:"Group",maskType:c.O.undefined,filterType:c.vA.text,filterDisplay:c.w2.menu,filterShowMatchMode:!1,filterShowAddButton:!1}],e=i(4650),I=i(2340),P=i(1135),C=i(4004),j=i(529),S=i(46);let v=(()=>{class t{constructor(n,o){this.http=n,this.table=o,this.api=I.N.url,this.list=new P.X([])}getList(){return this.table.loading.next(!0),this.http.get(this.api+"/tasker/").pipe((0,C.U)(n=>(this.list.next(n),this.table.loading.next(!1),n)))}get(n){return this.http.get(`${this.api}/tasker/${n}`).pipe((0,C.U)(o=>new Z(o)))}send(n){return this.http.post(`${this.api}/tasker/`,n)}delete(n){return this.http.delete(`${this.api}/tasker/${n}`)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(j.eN),e.LFG(S.i))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var q=i(6912);const D=function(){return["create"]};let M=(()=>{class t{constructor(n){this.taskerService=n,this.list=[],this.columns=k,this.tableLinks=[],this.subscribers=[],this.tableLinks=[{label:"Edit",routePath:["edit"],paramsFieldName:["id"]},{label:"Delete",routePath:["delete"],paramsFieldName:["id"]}],this.taskerService.list.subscribe(o=>this.list=o),(0,g.n)(this.taskerService.getList())}ngOnDestroy(){this.subscribers.forEach(n=>n.unsubscribe)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(v))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-list"]],decls:10,vars:10,consts:[[1,"page"],[1,"page__header"],[1,"page__header-icon"],[1,"fa-solid","fa-gear"],[1,"me-auto"],[1,"page__header-title"],[1,"page__body"],[3,"list","createLink","paginator","filterTable","sortable","columns","selectable","selectionMode","tableLinks"]],template:function(n,o){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6,"Tasker"),e.qZA()()(),e.TgZ(7,"div",6),e._UZ(8,"app-table",7),e.qZA()(),e._UZ(9,"router-outlet")),2&n&&(e.xp6(8),e.Q6J("list",o.list)("createLink",e.DdM(9,D))("paginator",!0)("filterTable",!0)("sortable",!0)("columns",o.columns)("selectable",!0)("selectionMode","single")("tableLinks",o.tableLinks))},dependencies:[u.lC,q.v]}),t})();var y=i(3721),f=i(2687),A=i(7549),F=i(7185),Y=i(9535),O=i(9243),G=i(3972),B=i(8629),L=i(6886),E=i(6201),V=i(898),x=i(2216),p=i(433),b=i(8783),R=i(805);const z=["greenFlagQuery"],$=["yellowFlagQuery"],W=["redFlagQuery"];function H(t,s){1&t&&(e._UZ(0,"img",67),e.TgZ(1,"span"),e._uU(2,"Details"),e.qZA())}function X(t,s){1&t&&(e.TgZ(0,"p",20),e._uU(1,"This field is required."),e.qZA())}function K(t,s){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,X,2,0,"p",68),e.qZA()),2&t){e.oxw();const n=e.MAs(27);e.xp6(1),e.Q6J("ngIf",n.errors.required)}}function ee(t,s){if(1&t&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&t){const n=s.$implicit;e.Q6J("ngValue",n.id),e.xp6(1),e.Oqu(n.name)}}function te(t,s){1&t&&(e.TgZ(0,"p",20),e._uU(1,"This field is required."),e.qZA())}function ne(t,s){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,te,2,0,"p",68),e.qZA()),2&t){e.oxw();const n=e.MAs(35);e.xp6(1),e.Q6J("ngIf",n.errors.required)}}function oe(t,s){if(1&t&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&t){const n=s.$implicit;e.Q6J("ngValue",n.id),e.xp6(1),e.Oqu(n.name)}}function ie(t,s){1&t&&(e.TgZ(0,"p",20),e._uU(1,"This field is required."),e.qZA())}function se(t,s){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,ie,2,0,"p",68),e.qZA()),2&t){e.oxw();const n=e.MAs(61);e.xp6(1),e.Q6J("ngIf",n.errors.required)}}function re(t,s){1&t&&(e._UZ(0,"img",69),e.TgZ(1,"span"),e._uU(2,"Depends On"),e.qZA())}function ae(t,s){1&t&&(e._UZ(0,"img",70),e.TgZ(1,"span"),e._uU(2,"Dependents"),e.qZA())}function le(t,s){1&t&&(e._UZ(0,"img",71),e.TgZ(1,"span"),e._uU(2,"Body Guards"),e.qZA())}function de(t,s){if(1&t&&(e.TgZ(0,"p",20),e._uU(1),e.qZA()),2&t){const n=s.$implicit;e.xp6(1),e.Oqu(n)}}function pe(t,s){1&t&&(e.TgZ(0,"p",20),e._uU(1,"Fill all required fields correctly to save"),e.qZA())}function ce(t,s){if(1&t&&(e.TgZ(0,"div",72),e.YNc(1,de,2,1,"p",73),e.YNc(2,pe,2,0,"p",68),e.qZA()),2&t){const n=e.oxw(),o=e.MAs(13);e.xp6(1),e.Q6J("ngForOf",n.erro),e.xp6(1),e.Q6J("ngIf",o.invalid&&0==n.erro.length)}}function ge(t,s){1&t&&e._UZ(0,"span",74)}let Q=(()=>{class t{constructor(n,o,l,a,r,m,_,ye){this.modal=n,this.toastr=o,this.dropdown=l,this.taskerService=a,this.activatedRoute=r,this.router=m,this.crypto=_,this.loadingUtils=ye,this.faChevronCircleLeft=f.jio,this.faTrash=f.$aW,this.faEdit=f.Xcf,this.faPlus=f.r8p,this.object=new Z({}),this.erro=[],this.loading=!1,this.isEditPage=!1,this.title="Create Tasker",this.success={true:"Opera\xe7\xe3o conclu\xedda com sucesso!",false:"Algum erro foi encontrado. Processo interrompido"},this.listDatabase=[],this.listBodyguard=[],this.listEnvironments=[],this.listNoDependents=[],this.listNoDependsOn=[],this.listTaskerGroups=[],this.listApplicationSoftware=[],this.subscribers=[];var Ae=this.loadingUtils.loading.subscribe(d=>this.loading=d);this.subscribers.push(Ae);var Fe=this.activatedRoute.params.subscribe(d=>{d.tasker_id?((0,g.n)(this.dropdown.getBodyGuardList(this.object.id)),(0,g.n)(this.dropdown.getResourceNoDependsOn(this.object.id)),(0,g.n)(this.dropdown.getResourceNoDependent(this.object.id)),this.idEncrypted=d.tasker_id,this.isEditPage=!0,this.title="Edit Tasker",this.object.id=this.crypto.decrypt(this.idEncrypted),(0,g.n)(this.taskerService.get(this.object.id)).then(J=>{this.object=J,setTimeout(()=>{this.modal.setOpen(!0)},100)}).catch(J=>{this.modal.voltar(),this.toastr.error("This page could not be accessed")})):(this.isEditPage=!1,this.title="Create Tasker",setTimeout(()=>{this.modal.setOpen(!0)},100))});this.subscribers.push(Fe);var Oe=this.dropdown.bodyguards.subscribe(d=>this.listBodyguard=d);this.subscribers.push(Oe);var xe=this.dropdown.resourceEnvironments.subscribe(d=>this.listEnvironments=d);this.subscribers.push(xe);var Qe=this.dropdown.resourceNoDependents.subscribe(d=>this.listNoDependents=d);this.subscribers.push(Qe);var Ue=this.dropdown.resourceNoDependsOn.subscribe(d=>this.listNoDependsOn=d);this.subscribers.push(Ue);var we=this.dropdown.database.subscribe(d=>this.listDatabase=d);this.subscribers.push(we);var Je=this.dropdown.taskerGroups.subscribe(d=>this.listTaskerGroups=d);this.subscribers.push(Je);var Ne=this.dropdown.applicationSoftware.subscribe(d=>this.listApplicationSoftware=d);this.subscribers.push(Ne)}ngOnInit(){}ngOnDestroy(){this.subscribers.forEach(n=>n.unsubscribe())}ngAfterViewInit(){(0,y.Z)(0)}voltar(){this.modal.voltar()}tabChanged(n){(0,y.Z)(n)}send(n){if(n.invalid)return this.toastr.error("There are one or more invalid fields."),void(this.erro=["There are one or more invalid fields."]);this.erro=[],this.object.greenFlagQuery=this.greenFlagQuery.getValue(),this.object.yellowFlagQuery=this.yellowFlagQuery.getValue(),this.object.redFlagQuery=this.redFlagQuery.getValue(),(0,g.n)(this.taskerService.send(this.object)).then(o=>{o.success?(this.toastr.success(this.success.true),this.modal.voltar(),(0,g.n)(this.taskerService.getList())):(this.toastr.error(this.success.false),this.erro.push(o.message))}).catch(o=>{console.error(o),this.toastr.error(o.message),this.erro.push(o.message)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(A.Q),e.Y36(F._W),e.Y36(Y.V),e.Y36(v),e.Y36(u.gz),e.Y36(u.F0),e.Y36(O.w),e.Y36(G.b))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-form"]],viewQuery:function(n,o){if(1&n&&(e.Gf(z,5),e.Gf($,5),e.Gf(W,5)),2&n){let l;e.iGM(l=e.CRH())&&(o.greenFlagQuery=l.first),e.iGM(l=e.CRH())&&(o.yellowFlagQuery=l.first),e.iGM(l=e.CRH())&&(o.redFlagQuery=l.first)}},decls:122,vars:42,consts:[[1,"page"],[1,"page__header"],[1,"page__header-icon"],[1,"fa-solid","fa-gear"],[1,"me-auto"],[1,"page__header-title"],[1,"link",3,"click"],[1,"me-2"],[3,"icon"],[1,"page__body"],[3,"ngSubmit"],["form","ngForm"],[1,"form-tabs"],[1,"form-tabs-bg"],[3,"activeIndexChange"],["pTemplate","header"],[1,"px-4"],[1,"row"],[1,"form-group","col-lg-6","col-md-4","col-sm-5","col-12"],["for","name"],[1,"text-danger"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],[4,"ngIf"],[1,"form-group","col-lg-3","col-md-4","col-sm-5","col-12"],["for","environment_Id"],["id","environment_Id","name","environment_Id","required","",1,"form-control",3,"ngModel","ngModelChange"],["environment_Id","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col-lg-3","col-md-4","col-sm-2","col-12"],["for","test_Interval_Minutes"],[3,"inputId","required","arrowControls","value","valueChanges"],[1,"form-group","col-lg-3","col-md-3","col-sm-3","col-12"],["for","tasker_Group_Id"],[3,"options","value","path","required","valueChanges"],["tasker_Group_Id",""],["for","applicationSoftware_Id"],["applicationSoftware_Id",""],["for","dataBase_Id"],["id","dataBase_Id","name","dataBase_Id",1,"form-control",3,"ngModel","ngModelChange"],["dataBase_Id","ngModel"],[1,"form-group","col-lg-12","col-md-12","col-sm-12","col-12"],["for","text"],["id","description","name","description",1,"form-control",3,"ngModel","ngModelChange"],["description","ngModel"],["id","report_To","name","report_To",1,"form-control",3,"ngModel","ngModelChange"],["report_To","ngModel"],[1,"form-group","mt-2"],[1,"d-flex","align-items-center"],["type","checkbox","name","active_Monitoring","id","active_Monitoring",1,"me-2",3,"ngModel","ngModelChange"],["active_Monitoring","ngModel"],["for","active_Monitoring",1,"mb-0"],[1,"flag-status","status-ok"],[3,"inputValue","id"],["greenFlagQuery",""],[1,"flag-status","status-warning"],["yellowFlagQuery",""],[1,"flag-status","status-down"],["redFlagQuery",""],["title","Depends On",3,"list","selected","valueChanges"],["title","Dependents",3,"list","selected","valueChanges"],["title","Body Guards",3,"list","selected","valueChanges"],[1,"d-flex","align-items-center","p-0","mt-1"],["class","m-0",4,"ngIf"],[1,"btn","btn-primary","mr-0","ms-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["src","./../../../../assets/img/icons/icon-infos.png","alt",""],["class","text-danger",4,"ngIf"],["src","./../../../../assets/img/icons/icon-dependson.png"],["src","./../../../../assets/img/icons/icon-dependents.png"],["src","./../../../../assets/img/icons/icon-monitoring.png"],[1,"m-0"],["class","text-danger",4,"ngFor","ngForOf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,o){if(1&n){const l=e.EpF();e.TgZ(0,"section",0)(1,"div",1)(2,"span",2),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"div",4)(5,"h3",5),e._uU(6),e.qZA(),e.TgZ(7,"a",6),e.NdJ("click",function(){return o.voltar()}),e.TgZ(8,"span",7),e._UZ(9,"fa-icon",8),e.qZA(),e._uU(10,"Go back "),e.qZA()()(),e.TgZ(11,"div",9)(12,"form",10,11),e.NdJ("ngSubmit",function(){e.CHM(l);const r=e.MAs(13);return e.KtG(o.send(r))}),e.TgZ(14,"div",12),e._UZ(15,"span",13),e.TgZ(16,"p-tabView",14),e.NdJ("activeIndexChange",function(r){return o.tabChanged(r)}),e.TgZ(17,"p-tabPanel"),e.YNc(18,H,3,0,"ng-template",15),e.TgZ(19,"div",16)(20,"div",17)(21,"div",18)(22,"label",19),e._uU(23,"Name: "),e.TgZ(24,"span",20),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"input",21,22),e.NdJ("ngModelChange",function(r){return o.object.name=r}),e.qZA(),e.YNc(28,K,2,1,"div",23),e.qZA(),e.TgZ(29,"div",24)(30,"label",25),e._uU(31,"Environment: "),e.TgZ(32,"span",20),e._uU(33,"*"),e.qZA()(),e.TgZ(34,"select",26,27),e.NdJ("ngModelChange",function(r){return o.object.environment_Id=r}),e.TgZ(36,"option",28),e._uU(37,"Select"),e.qZA(),e.YNc(38,ee,2,2,"option",29),e.qZA(),e.YNc(39,ne,2,1,"div",23),e.qZA(),e.TgZ(40,"div",30)(41,"label",31),e._uU(42,"Test Interval (minutes): "),e.TgZ(43,"span",20),e._uU(44,"*"),e.qZA()(),e.TgZ(45,"app-input-number",32),e.NdJ("valueChanges",function(r){return o.object.test_Interval_Minutes=r}),e.qZA()()(),e.TgZ(46,"div",17)(47,"div",33)(48,"label",34),e._uU(49,"Group: "),e.qZA(),e.TgZ(50,"app-p-dropdown-actions",35,36),e.NdJ("valueChanges",function(r){return o.object.tasker_Group_Id=r}),e.qZA()(),e.TgZ(52,"div",33)(53,"label",37),e._uU(54,"Application Software: "),e.qZA(),e.TgZ(55,"app-p-dropdown-actions",35,38),e.NdJ("valueChanges",function(r){return o.object.applicationSoftware_Id=r}),e.qZA()(),e.TgZ(57,"div",33)(58,"label",39),e._uU(59,"Database: "),e.qZA(),e.TgZ(60,"select",40,41),e.NdJ("ngModelChange",function(r){return o.object.dataBase_Id=r}),e.TgZ(62,"option",28),e._uU(63,"Select"),e.qZA(),e.YNc(64,oe,2,2,"option",29),e.qZA(),e.YNc(65,se,2,1,"div",23),e.qZA()(),e.TgZ(66,"div",17)(67,"div",42)(68,"label",43),e._uU(69,"Description:"),e.qZA(),e.TgZ(70,"textarea",44,45),e.NdJ("ngModelChange",function(r){return o.object.description=r}),e.qZA()()(),e.TgZ(72,"div",17)(73,"div",42)(74,"label",43),e._uU(75,"Report To:"),e.qZA(),e.TgZ(76,"textarea",46,47),e.NdJ("ngModelChange",function(r){return o.object.report_To=r}),e.qZA()()(),e.TgZ(78,"div",17)(79,"div",48)(80,"div",49)(81,"input",50,51),e.NdJ("ngModelChange",function(r){return o.object.active_Monitoring=r}),e.qZA(),e.TgZ(83,"label",52),e._uU(84,"Active Monitoring"),e.qZA()()()(),e.TgZ(85,"div",17)(86,"div",42)(87,"label",43),e._uU(88,"Green Flag Query: "),e._UZ(89,"span",53),e.qZA(),e._UZ(90,"app-code-editor",54,55),e.qZA()(),e.TgZ(92,"div",17)(93,"div",42)(94,"label",43),e._uU(95,"Yellow Flag Query: "),e._UZ(96,"span",56),e.qZA(),e._UZ(97,"app-code-editor",54,57),e.qZA()(),e.TgZ(99,"div",17)(100,"div",42)(101,"label",43),e._uU(102,"Red Flag Query: "),e._UZ(103,"span",58),e.qZA(),e._UZ(104,"app-code-editor",54,59),e.qZA()()()(),e.TgZ(106,"p-tabPanel"),e.YNc(107,re,3,0,"ng-template",15),e.TgZ(108,"app-picklist-dependents",60),e.NdJ("valueChanges",function(r){return o.object.depends_On=r}),e.qZA()(),e.TgZ(109,"p-tabPanel"),e.YNc(110,ae,3,0,"ng-template",15),e.TgZ(111,"app-picklist-dependents",61),e.NdJ("valueChanges",function(r){return o.object.dependents=r}),e.qZA()(),e.TgZ(112,"p-tabPanel"),e.YNc(113,le,3,0,"ng-template",15),e.TgZ(114,"app-picklist-dependents",62),e.NdJ("valueChanges",function(r){return o.object.bodyguards_Monitoring=r}),e.qZA()()()(),e.TgZ(115,"div",63),e.YNc(116,ce,3,2,"div",64),e.TgZ(117,"button",65),e.YNc(118,ge,1,0,"span",66),e.TgZ(119,"span"),e._uU(120,"Save"),e.qZA()()()()()(),e._UZ(121,"router-outlet")}if(2&n){const l=e.MAs(13),a=e.MAs(27),r=e.MAs(35),m=e.MAs(61);e.xp6(6),e.Oqu(o.title),e.xp6(3),e.Q6J("icon",o.faChevronCircleLeft),e.xp6(17),e.Q6J("ngModel",o.object.name),e.xp6(2),e.Q6J("ngIf",a.touched&&a.errors),e.xp6(6),e.Q6J("ngModel",o.object.environment_Id),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.listEnvironments),e.xp6(1),e.Q6J("ngIf",r.touched&&r.errors),e.xp6(6),e.Q6J("inputId","test_Interval_Minutes")("required",!0)("arrowControls",!0)("value",o.object.test_Interval_Minutes),e.xp6(5),e.Q6J("options",o.listTaskerGroups)("value",o.object.tasker_Group_Id)("path","tasker-group")("required",!0),e.xp6(5),e.Q6J("options",o.listApplicationSoftware)("value",o.object.applicationSoftware_Id)("path","application-software")("required",!0),e.xp6(5),e.Q6J("ngModel",o.object.dataBase_Id),e.xp6(2),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",o.listDatabase),e.xp6(1),e.Q6J("ngIf",m.touched&&m.errors),e.xp6(5),e.Q6J("ngModel",o.object.description),e.xp6(6),e.Q6J("ngModel",o.object.report_To),e.xp6(5),e.Q6J("ngModel",o.object.active_Monitoring),e.xp6(9),e.Q6J("inputValue",o.object.greenFlagQuery)("id","greenFlagQuery"),e.xp6(7),e.Q6J("inputValue",o.object.yellowFlagQuery)("id","yellowFlagQuery"),e.xp6(7),e.Q6J("inputValue",o.object.redFlagQuery)("id","redFlagQuery"),e.xp6(4),e.Q6J("list",o.listNoDependsOn)("selected",o.object.depends_On),e.xp6(3),e.Q6J("list",o.listNoDependents)("selected",o.object.dependents),e.xp6(3),e.Q6J("list",o.listBodyguard)("selected",o.object.bodyguards_Monitoring),e.xp6(2),e.Q6J("ngIf",o.erro||l.invalid),e.xp6(1),e.Q6J("disabled",l.invalid||o.loading),e.xp6(1),e.Q6J("ngIf",o.loading)}},dependencies:[h.sg,h.O5,u.lC,B.Z,L.w,E.Y,V.l,x.BN,p._Y,p.YN,p.Kr,p.Fj,p.Wl,p.EJ,p.JJ,p.JL,p.Q7,p.On,p.F,b.xf,b.x4,R.jx],styles:['.table-editable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0}.table-editable[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:0;border:none}.table-editable[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:-6px 1px 37px 1500px #2a2929 inset}.table-editable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#181818;vertical-align:middle;text-align:right;border:1px #383737 solid;position:relative}.btn-action[_ngcontent-%COMP%]{color:#fff;background-color:#101010;padding:2px 0;margin:0;transition:.2s;width:100%;position:relative;z-index:0}.btn-action[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--primary)}.table-editable[_ngcontent-%COMP%]   .cell-actions[_ngcontent-%COMP%]{text-align:right;width:70px;padding:0}.table-editable[_ngcontent-%COMP%]   th.cell-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{margin:5px 0}.table-editable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px #383737 solid}.table-editable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:url(https://images.tcdn.com.br/img/img_prod/1034077/papel_de_parede_listras_preto_e_branco_771_1_bb1ee5f201dd638ad8883c8bde3f5cdc.jpg);background-size:6vw 20vh;opacity:.1;visibility:hidden;filter:invert(1);display:inline;z-index:1}.table-editable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.deleted[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{opacity:.1;visibility:visible}.table-editable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.deleted[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn-actions[_ngcontent-%COMP%]{z-index:4;position:relative}.table-editable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.deleted[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{z-index:1;background-color:var(--primary)}.table-editable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.deleted[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:not-allowed}']}),t})();var ue=i(3446);function me(t,s){if(1&t&&(e.TgZ(0,"p",10),e._uU(1),e.qZA()),2&t){const n=s.$implicit;e.xp6(1),e.Oqu(n)}}function he(t,s){1&t&&e._UZ(0,"span",11)}function fe(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"form",2,3),e.NdJ("ngSubmit",function(){e.CHM(n);const l=e.oxw();return e.KtG(l.send())}),e.TgZ(2,"div")(3,"p"),e._uU(4,"Are you sure you want to delete this record?"),e.qZA(),e.TgZ(5,"p",4),e._uU(6,"All monitoring history for this resource will be erased."),e.qZA(),e.TgZ(7,"p",5),e._uU(8,"This operation is not reversible."),e.qZA(),e.TgZ(9,"p",5),e._uU(10,"You can also just disable monitoring for this feature, rather than deleting it."),e.qZA(),e.TgZ(11,"p",5),e._uU(12,"Are you sure you want to proceed with the deletion?"),e.qZA(),e.YNc(13,me,2,1,"p",6),e.qZA(),e.TgZ(14,"div",7)(15,"button",8),e.YNc(16,he,1,0,"span",9),e.TgZ(17,"span"),e._uU(18,"Delete"),e.qZA()()()()}if(2&t){const n=e.MAs(1),o=e.oxw();e.xp6(13),e.Q6J("ngForOf",o.erro),e.xp6(2),e.Q6J("disabled",n.invalid||o.loading),e.xp6(1),e.Q6J("ngIf",o.loading)}}const U=()=>Promise.all([i.e(592),i.e(631)]).then(i.bind(i,2631)).then(t=>t.TaskerGroupModule),w=()=>Promise.all([i.e(592),i.e(473)]).then(i.bind(i,6473)).then(t=>t.ApplicationSoftwareModule),ve=[{path:"",component:M,children:[{path:"delete/:tasker_id",component:(()=>{class t{constructor(n,o,l,a,r){this.modal=n,this.toastr=o,this.taskerService=l,this.activatedRoute=a,this.crypto=r,this.title="Delete tasker",this.id=0,this.idEncrypted="",this.erro=[],this.loading=!1,this.success={true:"Opera\xe7\xe3o conclu\xedda com sucesso!",false:"Algum erro foi encontrado. Processo interrompido"},this.activatedRoute.params.subscribe(m=>{m.tasker_id?(this.idEncrypted=m.tasker_id,this.id=this.crypto.decrypt(this.idEncrypted),(0,g.n)(this.taskerService.get(this.id)).then(_=>{setTimeout(()=>{this.modal.setOpen(!0)},100)}).catch(_=>{console.log(_),this.modal.voltar()})):this.modal.voltar()})}send(){this.erro=[],(0,g.n)(this.taskerService.delete(this.id)).then(n=>{console.log(n),n.success?this.toastr.success(this.success.true):this.toastr.error(this.success.false),this.modal.voltar(),(0,g.n)(this.taskerService.getList())}).catch(n=>{console.error(n),this.toastr.error(n.message),this.erro.push(n.message)}).finally(()=>{this.loading=!1})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(A.Q),e.Y36(F._W),e.Y36(v),e.Y36(u.gz),e.Y36(O.w))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-delete"]],decls:3,vars:3,consts:[[3,"title","template","maxWidth"],["form",""],[3,"ngSubmit"],["form","ngForm"],[1,"text-info","mt-2"],[1,"texxt-info","mt-2"],["class","text-danger mt-2","style","word-wrap: break-word;",4,"ngFor","ngForOf"],[1,"d-flex","just","p-0","mt-3"],[1,"btn","btn-primary","mr-0","ms-auto",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"text-danger","mt-2",2,"word-wrap","break-word"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(n,o){if(1&n&&(e._UZ(0,"app-modal",0),e.YNc(1,fe,19,3,"ng-template",null,1,e.W1O)),2&n){const l=e.MAs(2);e.Q6J("title",o.title)("template",l)("maxWidth","510px")}},dependencies:[h.sg,h.O5,ue.z,p._Y,p.JL,p.F]}),t})()}]},{path:"create",component:Q,children:[{path:"tasker-group",loadChildren:U},{path:"application-software",loadChildren:w}]},{path:"edit/:tasker_id",component:Q,children:[{path:"tasker-group",loadChildren:U},{path:"application-software",loadChildren:w}]}];let be=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(ve),u.Bz]}),t})();var Te=i(1094),Ze=i(4466),Ce=i(666);let Me=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t,bootstrap:[M]}),t.\u0275inj=e.cJS({imports:[h.ez,be,Ze.m,x.uH,p.u5,Te.yI.forChild(),b.LU,Ce.kW]}),t})()}}]);